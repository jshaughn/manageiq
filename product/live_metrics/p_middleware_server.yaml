#
# LiveMetrics configuration file
#
#   It defines the live metrics supported in a model that includes a LiveMetricsMixin.
#   It maps the native id used in the provider for a metric with the column where this metric will be available in
#   a LiveMetric virtual model.
#
#   Format:
#   - Provider native metric type id: MiQ metric id
#
included_children:
- Transaction Manager

supported_metrics:
#- WildFly Memory Metrics~Heap Used: mw_heap_used
#- WildFly Memory Metrics~Heap Max: mw_heap_max
#- WildFly Memory Metrics~Heap Committed: mw_heap_committed
#- WildFly Memory Metrics~NonHeap Used: mw_non_heap_used
#- WildFly Memory Metrics~NonHeap Committed: mw_non_heap_committed
#- WildFly Memory Metrics~Accumulated GC Duration: mw_accumulated_gc_duration
#- WildFly Aggregated Web Metrics~Aggregated Servlet Request Time: mw_aggregated_servlet_time
#- WildFly Aggregated Web Metrics~Aggregated Servlet Request Count: mw_aggregated_servlet_request_count
#- WildFly Aggregated Web Metrics~Aggregated Active Web Sessions: mw_aggregated_active_web_sessions
#- WildFly Aggregated Web Metrics~Aggregated Rejected Web Sessions: mw_aggregated_rejected_web_sessions
#- WildFly Aggregated Web Metrics~Aggregated Expired Web Sessions: mw_aggregated_expired_web_sessions
#- WildFly Aggregated Web Metrics~Aggregated Max Active Web Sessions: mw_aggregated_max_active_web_sessions
#- WildFly Threading Metrics~Thread Count: mw_thread_count
#- Server Availability~App Server: mw_availability_app_server
#- Transactions Metrics~Number of Aborted Transactions: mw_tx_aborted
#- Transactions Metrics~Number of In-Flight Transactions: mw_tx_inflight
#- Transactions Metrics~Number of Committed Transactions: mw_tx_committed
#- Transactions Metrics~Number of Transactions: mw_tx_total
#- Transactions Metrics~Number of Application Rollbacks: mw_tx_application_rollbacks
#- Transactions Metrics~Number of Resource Rollbacks: mw_tx_resource_rollbacks
#- Transactions Metrics~Number of Timed Out Transactions: mw_tx_timeout
#- Transactions Metrics~Number of Nested Transactions: mw_tx_nested
#- Transactions Metrics~Number of Heuristics: mw_tx_heuristics

- jvm_memory_bytes_used: mw_heap_used
  # jvm_memory_bytes_used{area="heap",feed_id="$FEED_ID"}

- jvm_memory_bytes_max: mw_heap_max
  # jvm_memory_bytes_max{area="heap",feed_id="$FEED_ID"}

- jvm_memory_bytes_committed: mw_heap_max
  # jvm_memory_bytes_committed{area="heap",feed_id="$FEED_ID"}

- jvm_memory_bytes_used: mw_non_heap_used
  # jvm_memory_bytes_used{area="nonheap",feed_id="$FEED_ID"}

- jvm_memory_bytes_max: mw_non_heap_max
  # jvm_memory_bytes_max{area="nonheap",feed_id="$FEED_ID"}

- jvm_memory_bytes_committed: mw_non_heap_max
  # jvm_memory_bytes_committed{area="nonheap",feed_id="$FEED_ID"}

- jvm_gc_collection_seconds_sum: mw_accumulated_gc_duration
  # sum( jvm_gc_collection_seconds_sum{feed_id="$FEED_ID"} )

- wildfly_servlet_total_request_time: mw_aggregated_servlet_time
  # sum( wildfly_servlet_total_request_time{feed_id="$FEED_ID"} )

- wildfly_servlet_total_request_count: mw_aggregated_servlet_request_count
  # sum( wildfly_servlet_request_count{feed_id="$FEED_ID"} )

- wildfly_deployment_active_sessions: mw_aggregated_active_web_sessions
  # sum( wildfly_deployment_active_sessions{feed_id="$FEED_ID"} )

- wildfly_deployment_rejected_sessions: mw_aggregated_rejected_web_sessions
  # sum( wildfly_deployment_rejected_sessions{feed_id="$FEED_ID"} )

- wildfly_deployment_expired_sessions: mw_aggregated_expired_web_sessions
  # sum( wildfly_deployment_expired_sessions{feed_id="$FEED_ID"} )

- wildfly_deployment_max_active_sessions: mw_aggregated_max_active_web_sessions
  # sum( wildfly_deployment_max_active_sessions{feed_id="$FEED_ID"} )

- jvm_threads_current: mw_thread_count
  # jvm_threads_current{feed_id="$FEED_ID"}

- up: mw_availability_app_server
  # up{feed_id="$FEED_ID"}

- wildfly_transactions_aborted_transactions: mw_tx_aborted
  # wildfly_transactions_aborted_transactions{feed_id="$FEED_ID"}

- wildfly_transactions_inflight_transactions: mw_tx_inflight
  # wildfly_transactions_inflight_transactions{feed_id="$FEED_ID"}

- wildfly_transactions_committed_transactions: mw_tx_committed
  # wildfly_transactions_committed_transactions{feed_id="$FEED_ID"}

- wildfly_transactions_transactions: mw_tx_total
  # wildfly_transactions_transactions{feed_id="$FEED_ID"}

- wildfly_transactions_application_rollbacks: mw_tx_application_rollbacks
  # wildfly_transactions_application_rollbacks{feed_id="$FEED_ID"}

- wildfly_transactions_resource_rollbacks: mw_tx_resource_rollbacks
  # wildfly_transactions_resource_rollbacks{feed_id="$FEED_ID"}

- wildfly_transactions_timed_out_transactions: mw_tx_timeout
  # wildfly_transactions_timed_out_transactions{feed_id="$FEED_ID"}

- wildfly_transactions_nested_transactions: mw_tx_nested
  # wildfly_transactions_nested_transactions{feed_id="$FEED_ID"}

- wildfly_transactions_heuristics: mw_tx_heuristics
  # wildfly_transactions_heuristics{feed_id="$FEED_ID"}

